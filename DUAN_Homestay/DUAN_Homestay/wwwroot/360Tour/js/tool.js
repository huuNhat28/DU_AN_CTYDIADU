const _0x5f42=['find','nodeType','posarr','depth','actions','nodeValue','screentosphere','vlookat:','acos','push','distance','angle','innerWidth','item','trim','nodeName','Click\x20detected\x20at\x20hlookat:','name','log','childNodes','forEach','Mouse\x20position:','attributes','cos','hasOwnProperty','krpano'];const _0x9f54=function(_0x5f4277,_0x9f54a8){_0x5f4277=_0x5f4277-0x0;let _0x113562=_0x5f42[_0x5f4277];return _0x113562;};function xmlToJson(_0x1f9628){let _0x5ce6f2={};if(_0x1f9628[_0x9f54('0x1')]===0x1){if(_0x1f9628[_0x9f54('0x16')]['length']>0x0){for(let _0x58e444=0x0;_0x58e444<_0x1f9628[_0x9f54('0x16')]['length'];_0x58e444++){const _0x36c164=_0x1f9628['attributes'][_0x9f54('0xd')](_0x58e444);_0x5ce6f2['_'+_0x36c164[_0x9f54('0xf')]]=_0x36c164[_0x9f54('0x5')];}}}if(_0x1f9628['hasChildNodes']()){for(let _0x77ece8=0x0;_0x77ece8<_0x1f9628[_0x9f54('0x13')]['length'];_0x77ece8++){const _0x422b48=_0x1f9628[_0x9f54('0x13')][_0x9f54('0xd')](_0x77ece8);if(_0x422b48[_0x9f54('0x1')]===0x3&&_0x422b48[_0x9f54('0x5')][_0x9f54('0xe')]()==='')continue;const _0x50a346=_0x422b48[_0x9f54('0xf')];if(typeof _0x5ce6f2[_0x50a346]==='undefined'){_0x5ce6f2[_0x50a346]=xmlToJson(_0x422b48);}else{if(typeof _0x5ce6f2[_0x50a346][_0x9f54('0x9')]==='undefined'){const _0x3599b5=_0x5ce6f2[_0x50a346];_0x5ce6f2[_0x50a346]=[];_0x5ce6f2[_0x50a346]['push'](_0x3599b5);}_0x5ce6f2[_0x50a346]['push'](xmlToJson(_0x422b48));}}}return _0x5ce6f2;}function jsonToXml(_0x12ea2d){let _0x1c638f='';for(let _0x1f52c5 in _0x12ea2d){if(!_0x12ea2d['hasOwnProperty'](_0x1f52c5))continue;if(_0x1f52c5['startsWith']('_')){continue;}if(Array['isArray'](_0x12ea2d[_0x1f52c5])){_0x12ea2d[_0x1f52c5]['forEach'](_0x5eaef1=>{_0x1c638f+='<'+_0x1f52c5+attributesToXml(_0x5eaef1)+'>'+jsonToXml(_0x5eaef1)+'</'+_0x1f52c5+'>';});}else if(typeof _0x12ea2d[_0x1f52c5]==='object'){_0x1c638f+='<'+_0x1f52c5+attributesToXml(_0x12ea2d[_0x1f52c5])+'>'+jsonToXml(_0x12ea2d[_0x1f52c5])+'</'+_0x1f52c5+'>';}else{_0x1c638f+='<'+_0x1f52c5+'>'+_0x12ea2d[_0x1f52c5]+'</'+_0x1f52c5+'>';}}return _0x1c638f;}function attributesToXml(_0x23bc2c){let _0x3e86a3='';for(let _0x209a36 in _0x23bc2c){if(_0x23bc2c[_0x9f54('0x18')](_0x209a36)&&_0x209a36['startsWith']('_')){_0x3e86a3+='\x20'+_0x209a36['substring'](0x1)+'=\x22'+_0x23bc2c[_0x209a36]+'\x22';}}return _0x3e86a3;}function latLngToMercator(_0x242f82,_0x32efe4){const _0x3ec068=0x615299;const _0x57efad=_0x3ec068*_0x32efe4*Math['PI']/0xb4;const _0x119c9f=Math['tan'](Math['PI']/0x4+_0x242f82*Math['PI']/0x168);const _0x3e9983=Math['max'](_0x119c9f,1e-10);const _0xea2523=_0x3ec068*Math['log'](_0x3e9983);return{'x':_0x57efad,'y':_0xea2523};}function angleDistance(_0xf2d52f,_0x211f97,_0xc4363,_0x556d63){_0xf2d52f=_0xf2d52f*Math['PI']/0xb4;_0x211f97=_0x211f97*Math['PI']/0xb4;_0xc4363=_0xc4363*Math['PI']/0xb4;_0x556d63=_0x556d63*Math['PI']/0xb4;const _0x5ba152=Math[_0x9f54('0x17')](_0x211f97)*Math[_0x9f54('0x17')](_0xf2d52f);const _0x2c6385=Math['cos'](_0x211f97)*Math['sin'](_0xf2d52f);const _0x1e5be1=Math['sin'](_0x211f97);const _0xa196c8=Math[_0x9f54('0x17')](_0x556d63)*Math['cos'](_0xc4363);const _0x13bc7f=Math[_0x9f54('0x17')](_0x556d63)*Math['sin'](_0xc4363);const _0x588d08=Math['sin'](_0x556d63);const _0xfe3f14=_0x5ba152*_0xa196c8+_0x2c6385*_0x13bc7f+_0x1e5be1*_0x588d08;const _0x315726=Math[_0x9f54('0x8')](_0xfe3f14);return _0x315726*(0xb4/Math['PI']);}function onPanoClick(_0x157780,_0x462153,_0x3ab5ce,_0x4904d0){console['log'](_0x9f54('0x10'),_0x157780,_0x9f54('0x7'),_0x462153);console[_0x9f54('0x12')](_0x9f54('0x15'),_0x3ab5ce,_0x4904d0);var _0x38370c=krpano[_0x9f54('0x4')][_0x9f54('0x6')](_0x3ab5ce,_0x4904d0);console['log'](_0x38370c);var _0x41b6fc=window[_0x9f54('0x2')][_0x9f54('0x0')](_0x29a877=>_0x29a877['name']==window[_0x9f54('0x19')]['xml']['scene']);console[_0x9f54('0x12')](_0x41b6fc);let _0x3141b9={'name':'','angle':Infinity,'distance':Infinity};let _0x37c49d=[];window['posarr']['forEach'](_0x4a9748=>{if(_0x4a9748['name']==_0x41b6fc[_0x9f54('0x11')])return;let _0x42fe13=krpano[_0x9f54('0x4')]['spacetosphere'](_0x4a9748['x']-_0x41b6fc['x'],_0x4a9748['y']-_0x41b6fc['y'],_0x4a9748['z']-_0x41b6fc['z']);const _0x3f883d=angleDistance(_0x38370c['x'],_0x38370c['y'],_0x42fe13['h'],_0x42fe13['v']);if(_0x3f883d<_0x3141b9['angle']){_0x3141b9={'name':_0x4a9748['name'],'angle':_0x3f883d,'distance':_0x42fe13[_0x9f54('0x3')]};}if(_0x3f883d<0xa){_0x37c49d['push']({'name':_0x4a9748['name'],'angle':_0x3f883d,'distance':_0x42fe13[_0x9f54('0x3')]});}});if(_0x3141b9[_0x9f54('0xb')]<0xa){_0x37c49d[_0x9f54('0x14')](_0x44d46a=>{if(_0x44d46a[_0x9f54('0xa')]<_0x3141b9['distance'])_0x3141b9=_0x44d46a;});}if(_0x3141b9[_0x9f54('0xb')]<0x2d){loadscene(_0x3141b9[_0x9f54('0x11')]);}console['log'](_0x3141b9);return;const _0x1d1b0c=0xb4;const _0x18b7fb=0x5a;const _0x5ce1f0=_0x157780+(_0x3ab5ce/window[_0x9f54('0xc')]-0.5)*_0x1d1b0c*0x2;const _0x1505bb=_0x462153+(_0x4904d0/window['innerHeight']-0.5)*_0x18b7fb*0x2;let _0x2fb1c0=null;let _0x302414=Infinity;window[_0x9f54('0x2')]['forEach'](_0x5d8362=>{const _0x3abc65=_0x5ce1f0-_0x5d8362['x'];const _0x2e2662=_0x1505bb-_0x5d8362['y'];const _0x1e707f=Math['sqrt'](_0x3abc65*_0x3abc65+_0x2e2662*_0x2e2662);if(_0x1e707f<_0x302414){_0x302414=_0x1e707f;_0x2fb1c0=_0x5d8362;}});if(_0x2fb1c0){console['log']('Closest\x20scene:',_0x2fb1c0['name']);}}